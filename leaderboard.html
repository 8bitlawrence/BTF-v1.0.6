<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Leaderboard - BTF</title>
		<link rel="stylesheet" href="index.css" />
		<link rel="icon" type="image/x-icon" href="btflogo.png" />
	</head>
	<body>
		<div class="container">
			<header>
				<h1 class="halloween-shimmer">BTF Leaderboard</h1>
				<div class="subtitle">Top Players by Coins</div>
			</header>

			<nav class="nav-bar">
				<a href="index.html">Game</a>
				<a href="shop.html">Shop</a>
				<a href="inventory.html">Inventory</a>
				<a href="trade.html">Trade</a>
				<a href="enchant.html">Enchanting</a>
				<a href="leaderboard.html" class="active">Leaderboard</a>
				<a href="about.html">About</a>
				<a href="news.html">News</a>
			</nav>

			<main style="max-width:900px;margin:0 auto">
				<!-- Registration Section -->
				<section class="gacha" id="registerSection">
					<div class="banner">Register Your Account</div>
					<div style="padding:20px">
						<p id="registrationStatus" style="margin-bottom:16px;color:var(--muted)">
							Register a username to appear on the leaderboard and compete with other players!
						</p>
						<div style="display:flex;gap:10px;margin-bottom:12px">
							<input 
								type="text" 
								id="usernameInput" 
								placeholder="Choose a username (3-20 characters)" 
								maxlength="20"
								style="flex:1;padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:var(--glass);color:white;font-size:16px"
							/>
							<button id="registerBtn" style="padding:12px 24px;font-size:16px">Register</button>
						</div>
						<div id="currentUsername" style="display:none;padding:12px;background:var(--glass);border-radius:8px;border:1px solid rgba(16,185,129,0.3)">
							<span style="color:var(--muted)">Registered as:</span> 
							<span id="displayUsername" style="color:#10b981;font-weight:600;margin-left:8px"></span>
							<button id="changeUsernameBtn" class="muted" style="margin-left:12px;padding:6px 12px">Change Username</button>
						</div>
					</div>
				</section>

				<!-- Leaderboard Table -->
				<section class="gacha" style="margin-top:20px">
					<div class="banner">🏆 Top 100 Players</div>
					<div style="padding:20px">
						<div style="margin-bottom:16px;display:flex;gap:10px">
							<button id="refreshLeaderboard" style="padding:8px 16px">🔄 Refresh</button>
							<button id="submitScore" style="padding:8px 16px;background:var(--accent)">📤 Submit My Score</button>
						</div>
						<div id="leaderboardList" style="max-height:600px;overflow-y:auto">
							<p style="text-align:center;color:var(--muted);padding:40px">Loading leaderboard...</p>
						</div>
					</div>
				</section>
			</main>

			<footer>
				<small>Made by the Cookiemonster and the Eightbit Games Team</small><br>
				<small>© 2025 Eightbit Games | Contact: lawrencetong1030@gmail.com</small>
			</footer>
		</div>

		<!-- Player Inventory Modal -->
		<div id="playerInventoryModal" class="modal" style="display:none">
			<div class="modal-backdrop"></div>
			<div class="modal-panel" style="max-width:800px">
				<div class="modal-header">
					<h3 id="playerInventoryTitle">Player Inventory</h3>
					<button id="closePlayerInventory" class="muted">Close</button>
				</div>
				<div class="modal-body">
					<div style="margin-bottom:20px">
						<div style="display:flex;justify-content:space-between;margin-bottom:12px">
							<div>
								<strong style="color:#ffd700">Coins:</strong> 
								<span id="playerCoins" style="color:white;margin-left:8px"></span>
							</div>
							<div>
								<strong style="color:#a855f7">Rank:</strong> 
								<span id="playerRank" style="color:white;margin-left:8px"></span>
							</div>
						</div>
					</div>

					<h4 style="margin:16px 0 12px 0;color:var(--muted)">Pets</h4>
					<div id="playerPetsList" class="inventory-list" style="max-height:250px;overflow-y:auto"></div>

					<h4 style="margin:16px 0 12px 0;color:var(--muted)">Fruits</h4>
					<div id="playerFruitsList" class="inventory-list" style="max-height:250px;overflow-y:auto"></div>
				</div>
			</div>
		</div>

		<script src="leaderboard.js"></script>
	</body>
</html>
